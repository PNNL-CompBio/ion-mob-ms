Bootstrap: docker
From: python:3.8-buster
Includecmd: no

%files
    fix_metadata.py /Work/fix_metadata.py
    R_Metadata_I.R /Work/R_Metadata_I.R
    R_Annotate_features_V.R /Work/R_Annotate_features_V.R

%post
    #update pip
    pip install --upgrade pip

    #install git
    apt-get -y update
    apt-get -y install wget unzip
    apt-get -y install git

    #install mzmine
    git clone https://github.com/PNNL-Comp-Mass-Spec/AutoCCS.git    
    pip install -r /AutoCCS/requirements.txt
    pip install pandas==1.5.3
    #install R    
    apt-get update && \
    apt-get upgrade -y && \
    apt-get install -y r-base
    apt install -y r-cran-doparallel
